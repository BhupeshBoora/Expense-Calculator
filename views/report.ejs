<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense Report</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .body_bg
    {
        background-color: #E6F4F1 !important;
    }

    .box_bg
    {
        background-color: #B8E2F2 !important;
    }

    .btn_itself
    {
        background-color: #00A8E8 !important;
        color: #ffffff !important;    
    }

    .dark_font
    {
        color: black;
    }
    </style>
</head>
<body class="body_bg">
  <div class="container mt-5">
    <h2 class="mb-4 text-center">Expense Report</h2>

    <% if (expenses.length === 0) { %>
      <p class="text-center">No expenses recorded yet.</p>
    <% } else { %>
      <table class="table table-bordered table-striped">
        <thead class="table-light">
          <tr>
            <th class="box_bg">Date</th>
            <th class="box_bg dark_font">Amount (₹)</th>
            <th class="box_bg">Category</th>
          </tr>
        </thead>
        <tbody>
          <% expenses.forEach(expense => { %>
            <tr>
              <td><%= expense.date %></td>
              <td><%= expense.money_spent %></td>
              <td><%= expense.category.replace("_", " ") %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    <% } %>

    <div class="text-center mt-4">
        <a href="/" class="btn btn_itself">← Back to Home</a>
        <a href="/download-report" class="btn btn_itself">Download Report</a>
    </div>

    <div class="text-center mt-4 border rounded shadow p-3 box_bg">
      <h2>Total Expenses So Far: ₹<span id="totalThisMonth"><%= thisMonth %></span></h2>
    </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
